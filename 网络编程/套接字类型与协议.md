## 套接字类型和协议设置

打个比方，两个人对话，规定是用电话，还是书信，这个约定俗成就是协议，**协议就是为了完成数据交换而定好的规定**

### socket函数参数

```C
#include <sys/socket.h>
int socket(int domain, int type, int protocol);
//成功时返回文件描述符，失败时返回-1

domin 		套接字中使用的协议族信息;
type  		套接字中数据传输类型信息;
protocol 	计算机中通信中使用的协议信息;
```

> 在一个**协议族群**中，定义它的**数据传输类型**并选出一个**具体协议**（前两个参数得到的协议可能不唯一）

### 协议族（Protocol Family）

族，一个族群，就比如素面条和拉面都属于面条一类（族）。类似的，套接字通信的协议也有分类，第一个参数`domin`就是传递套接字使用的协议分类信息

|   名称   |        协议族        |
| :------: | :------------------: |
| PF_INET  |   Ipv4互联网协议族   |
| PF_INET6 |   Ipv6互联网协议族   |
| PF_LOCAL | 本地通信的UNIX协议族 |
|   ...    |         ...          |

### 套接字类型（Type）

套接字的数据传输模式，分为TCP和UDP

#### **面向连接的套接字（SOCK_STREAM）**

...

#### **面向消息的套接字（SOCK_DGRAM）**

...

### 协议的最终选择（protocol）

什么情况使用第三个参数？

一般传输0（即前两个就可以确定一个协议），但是当同一协议族中存在多个数据传输方式相同的协议，我们需要第三个参数来确定

```C
int tcp_socket = socket(PF_INET, SOCK_STREAM, 0); // 满足Ipv4协议族且以面向连接的形式数据传输的只有一个协议，可以传递0
```
